# Unit тесты

### Что тестируем?

Unit-тестами стоит покрывать компоненты, утилиты и хуки, которые не используют браузерное API, серверное API и любые интеграции, которые затруднительно мокать.
Если же такие интеграции используются, то лучше будет написать e2e-тест с использованием [puppeteer](https://pptr.dev/), где мокать их не придется.

### Какое количество кода покрывать тестами?

Процент покрытия своего кода тестами вы можете увидеть с помощью команды `yarn coverage`. Но помимо покрытия кейсов из кода, стоит учитывать кейсы, которые составляются аналитиком для бизнеса. Они должны быть протестированы в первую очередь. Также необходимо проверить, что все публичное API компонента корректно отрабатывает.

### Как начинать писать тесты?

Рекомендуем писать тесты с помощью метологии [TDD](https://medium.com/@lucyhackwrench/%D1%87%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-tdd-%D0%B8-bdd-%D0%BD%D0%B0-%D0%BF%D0%B0%D0%BB%D1%8C%D1%86%D0%B0%D1%85-%D0%B8-%D1%87%D1%82%D0%BE-%D0%B4%D0%BE%D0%BB%D0%B6%D0%B5%D0%BD-%D0%B7%D0%BD%D0%B0%D1%82%D1%8C-%D0%BE-%D0%BD%D0%B8%D1%85-%D1%84%D1%80%D0%BE%D0%BD%D1%82%D0%B5%D0%BD%D0%B4%D0%B5%D1%80-701a10e06bb9), так как это поможет вам заранее описать все кейсы и продумать апи для вашего компонента.

### Когда стоит дописать тесты?

Если в компоненте был найден баг, то стоит покрыть эти поправленные баги тестами, чтобы точно удостовериться, что они были исправлены и в будущем снова не возникнут.
Также, если по требованию бизнеса компонент вынужден расширяться, то эти изменения тоже лучше покрывать тестами.

### Инструменты для тестирования:

На данный момент в библиотеке используются:

- [react-testing-library](https://github.com/testing-library/react-testing-library)
- [jest](https://jestjs.io/)
- [jest-dom](https://github.com/testing-library/jest-dom)

## Полезные ссылки

- [Серия видео про юнит-тесты от mpj](https://www.youtube.com/playlist?list=PL0zVEGEvSaeF_zoW9o66wa_UCNE3a7BEr)
- [Примеры документаций React-компонентов](https://react-testing-examples.com)
- [Туториал по тестированию React-компонентов](https://blog.bitsrc.io/testing-react-applications-with-react-testing-library-da66aaef740a)
- [Гайд по Unit-тестированию в JS](https://github.com/mawrkus/js-unit-testing-guide)
